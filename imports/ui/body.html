<!--Body-->

<body>

  <header>
    <h1>Simple Updates</h1>
  </header>

  <section class ="projects">

    <div class="section-header"><h2>Projects</h2></div>
    <div class ="section-content">
      {{#each project in projects}}
        {{#each update in (lastUpdate project)}}
        {{> projectItem project = project update = update}} 
        {{/each}}
      {{/each}}
    </div>
    
  </section>

  <section class ="add-update">

    <div class="section-header"><h2>New update</h2></div>

    <form class = "add-update">

      <div class ="add-update-priority wrapper-dd">
        <div id = "update-priority" class ="button-dd" value ="0">Priority</div>
          <ul class ="menu-dd">
            <li class="menu-opt" value = "1">High</li>
            <li class="menu-opt" value = "2">Medium</li>
            <li class="menu-opt" value = "3">Low</li>
          </ul>
      </div>

      <div class= "add-update-project wrapper-dd">
        <div id = "update-project" class ="button-dd" value ="0">Project</div>
          <ul class ="menu-dd">
            {{#each project in projects}}
              {{> projectOption project = project}}
            {{/each}}
          </ul>
      </div> 

      <div class ="add-update-text">
        <textarea id = "update-text"></textarea> 
      </div>

      <div class ="new-update-btn">
        <button class = "new-update-btn">Submit</button> 
      </div>     
            <!--<select id = "update_project">
                {{#each project in projects}}
                {{> project_option project = project}}
                {{/each}}
            </select>
    
            <select id = "update_priority">
                <option value = "1">High</option>
                <option value = "2">Medium</option>
                <option value = "3">Low</option>
            </select>

            <textarea id = "update_text"></textarea> 
        
            <button class = "new_update">Submit</button> -->
    </form>

  </section>

</body>

<!--Templates-->

<template name="projectItem">
  <article>                      
    <div class="update-priority"><div class ="circle {{colorCycle update}}"></div></div>
    <div class="update-content"> 
      <div class="project-name">{{project.name}}</div>
      <div class ="update-date">Updated at: {{formatDate update.createdAt}}</div>
      <div class ="update-text">{{update.text}}</div>
    </div>
  </article>
 </template>

<template name = "projectOption">
  <li class="menu-opt" value ={{project.id}}>{{project.name}}</li>
</template>
